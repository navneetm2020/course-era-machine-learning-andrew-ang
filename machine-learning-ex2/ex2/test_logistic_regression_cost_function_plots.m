% Script to plot cost function wrt to theta for logistic regression.% checking two cost functions to see the convexity of the cost functions.clear all;clc;close all;data = load('ex2data1.txt');%keyboardx1 = data(:, 1); x2 = data(:, 2); y = data(:, 3);m = length(y); % number of training examplesX = [ones(m,1) x1 x2];theta0 = 0; %-25.161;theta1 = 0.206233;theta2 = linspace(-1,1,10000);J = zeros(size(theta2));J1 = zeros(size(theta2));for cnt1 = 1:length(theta2)      t0 = theta0;    t1 = theta1;    t2 = theta2(cnt1);    thetavec = [t0;t1;t2];    cost = sum((sigmoid(X*thetavec) - y).^2)/(2*m);    J(cnt1) = cost;          J1(cnt1) = sum( -y.*log(sigmoid(X*thetavec)) - (1-y).*log(1- sigmoid(X*thetavec)) )/(2*m);
end
figure;plot(theta2,J,'-b','LineWidth',3);xlabel('Theta2');ylabel('J');title('Sigmoid Cost fuction without log');figure;plot(theta2,J1,'-r','LineWidth',3);xlabel('Theta2');ylabel('J1');title('Log based sigmoid cost function');theta0 = 0; %-25.161;theta1 = linspace(-1,1,10000);theta2 = 0.201;J = zeros(size(theta2));J1 = zeros(size(theta2));for cnt1 = 1:length(theta1)      t0 = theta0;    t1 = theta1(cnt1);    t2 = theta2;    thetavec = [t0;t1;t2];    cost = sum((sigmoid(X*thetavec) - y).^2)/(2*m);    J(cnt1) = cost;          J1(cnt1) = sum( -y.*log(sigmoid(X*thetavec)) - (1-y).*log(1- sigmoid(X*thetavec)) )/(2*m);endfigure;plot(theta1,J,'-b','LineWidth',3);xlabel('Theta1');ylabel('J');title('Sigmoid Cost fuction without log');figure;plot(theta1,J1,'-r','LineWidth',3);xlabel('Theta1');ylabel('J1');title('Log based sigmoid cost function');theta0 = -25.161;theta1 = linspace(-0.5,0.5,100);theta2 = linspace(-0.3,0.3,100);[T1,T2] = meshgrid(theta1,theta2);J = zeros(size(T1));J1 = zeros(size(T1));for cnt1 = 1:size(T1,1)  for cnt2 = 1:size(T1,2)    t1 = T1(cnt1,cnt2);    t2 = T2(cnt1,cnt2);    thetavec = [theta0;t0;t1];        cost = sum((sigmoid(X*thetavec) - y).^2)/(2*m);    J(cnt1,cnt2) = cost;      J1(cnt1,cnt2) = sum( -y.*log(sigmoid(X*thetavec)) - (1-y).*log(1- sigmoid(X*thetavec)) )/(2*m);  endendfigure;contour(T1,T2,J,10);xlabel('Theta1');ylabel('Theta2');title('Contour plots for Sigmoid Cost fuction without log');figure;contour(T1,T2,J1,10);xlabel('Theta1');ylabel('Theta2');title('Contour plots for Sigmoid Cost fuction with log');